<%- include('partials/header') %>

<!-- Main Content -->
<div class="container mx-auto px-4 sm:px-6 lg:px-8 py-12">
    
    <!-- Page Title -->
    <h1 class="text-3xl font-bold text-brand-dark dark:text-white mb-8 border-b border-gray-200 dark:border-gray-700 pb-4">
        All ESG Jobs
    </h1>

    <!-- Jobs List (Dark mode updated) -->
    <div class="space-y-4">
        <% if (jobs && jobs.length > 0) { %>
            <% jobs.forEach(job => { %>
                <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center p-5 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow">
                    <div>
                        <a href="/job/<%= job.id %>" class="hover:text-brand-green transition-colors">
                            <h4 class="text-xl font-bold text-brand-dark dark:text-white"><%= job.title %></h4>
                        </a>
                        <p class="text-gray-600 dark:text-gray-400"><%= job.company %> | <%= job.location %></p>
                    </div>
                    
                    <% let bgColor = 'bg-green-100'; %>
                    <% let textColor = 'text-green-700'; %>
                    <% if (job.typeColor === 'blue') { %>
                        <% bgColor = 'bg-blue-100'; textColor = 'text-job-blue'; %>
                    <% } else if (job.typeColor === 'yellow') { %>
                        <% bgColor = 'bg-yellow-100'; textColor = 'text-job-yellow'; %>
                    <% } %>

                    <span class="mt-2 sm:mt-0 <%= bgColor %> <%= textColor %> text-sm font-medium px-3 py-1 rounded-full"><%= job.type %></span>
                </div>
            <% }) %>
        <% } else { %>
            <p class="dark:text-gray-300">No jobs found.</p>
        <% } %>
    </div>
</div>

<%- include('partials/footer') %>